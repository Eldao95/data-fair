Les services sont des fonctionnalités externalisées. Ils permettent par exemple de récupérer des données supplémentaires ou de faire des traitements sur certaines données. Ces services distants sont optionnels pour pouvoir exposer ses données, mais nécessaires si l'on souhaite faire de l'enrichissement ou utiliser certaines applications. Ils se présentent sous la forme d'APIs Web qui peuvent être ouvertes ou fermées, dans le 2e cas il faut alors paramétrer des codes d'accès à ces APIs.

Les services Koumoul sont accessibles avec des configurations par défaut.  
Pour des services Koumoul dont vous êtes le propriétaire, par défaut, il n'y a que vous qui avez accès aux services. Lorsque vous utilisez ces services, vous utiliser les quotas de votre compte personnel Koumoul.
Pour des services Koumoul organisation, par défaut, les *administrateurs* de l'organisation sont les propriétaires et tous les rôles de l'organisation peuvent lister, lire et utiliser les services de l'organisation. Il n'y a donc que les *administrateurs* de l'organisation qui peuvent modifier et administrer les services créés par défaut. Lorsque vous utilisez ces services, vous utiliser les quotas du compte de votre organisation.

### Ajout d'un service

Allez dans la section [SERVICES](https://koumoul.com/s/data-fair/remote-services) de data-fair, puis cliquez sur le bouton *Ajouter un service*.  
Un bandeau en bas de page apparaît, cliquez sur *Choisissez un service à configurer* et sélectionnez le service que vous voulez ajouter.  
L'adresse du service de Koumoul va se compléter automatiquement, vous n'avez donc pas à la modifier. Si vous voulez ajouter un service externe, vous devez mettre l'adresse du service à cet endroit.
Cliquez ensuite sur le bouton *Continuer*. Choisissez le propriétaire du service puis cliquez sur le bouton *Continuer* et enfin lancer l'import du service.

### Configuration du service

Une fois votre service ajouté, vous arrivez sur la page *DESCRIPTION* du service. Comme pour un jeu de données, vous pouvez changer le titre du service et la description. Vous avez sur votre droite différentes informations, le propriétaire du service, l’hébergeur du service, le contact, la version du service, les termes d'utilisation du service et le nombre d'applications qui utilisent ce service.

En bas de la page de *DESCRIPTION*, vous avez [les concepts](user-guide/concepts) qu'il faut associer à un jeu de données pour avoir accès à [l'enrichissement](user-guide/enrichment) via ce service. On vous explique comment réaliser l'enrichissement un peu plus loin dans cette page.

La section *CONFIGURATION* permet de configurer le service s'il s'agit d'un service externe. Si vous utilisez les services Koumoul, vous n'aurez pas à modifier cette partie, sachez juste qu'il est possible d'importer des services externes dans la plateforme.

La section *PERMISSIONS* va vous permettre de définir les droits d'utilisation du service. Vous pouvez ouvrir ce service à une organisation, à une seule personne. Pour de plus amples informations, concertez la page des [permissions](user-guide/permission).

La section *API* va vous permettre d’accéder à la documentation API du service que vous venez de créer.

### Utilisation

Une fois votre service ajouté et configuré, pour enrichir votre jeu de données, allez dans la section *DESCRIPTION* de votre [jeu de données](user-guide/dataset). Dans la partie schéma de cette page, associez [les concepts](user-guide/concepts) d'entrées, se trouvant en bas de la page description de votre service, aux colonnes contenant les données correspondantes de votre jeu de données. Cliquez sur le bouton *APPLIQUER* en haut à droite de la section schéma.

Une fois le(s) concept()s associé(s), allez dans la partie *ENRICHISSEMENT* de votre jeu de données. Vous avez les services correspondant aux concepts que vous avez associés qui sont  affichés (si un des services n'est pas affiché, vérifiez bien que vous avez bien associé les concepts et aussi que vous avez bien les droits pour utiliser le service). Sélectionner le service qui vous intéresse, puis sélectionner les informations que vous voulez ajouter dans votre jeu de données à partir du menu déroulant et enfin cliquez sur le bouton *Appliquer*. Attendez la fin de l'enrichissement. Dans la section *VUE TABLEAU* vous avez autant de nouvelles colonnes que vous avez sélectionné de données enrichies dans le menu déroulant de votre service dans la section *ENRICHISSEMENT*.

Lorsque vous ajouter un jeu de données personnel, vous n'aurez accès qu'au services personnel de votre compte pour enrichir vos données. Vous ne pourrez pas utiliser les services de votre organisation pour enrichir vos jeux de données personnels.

Lorsque vous ajouter un jeu de données dont le propriétaire est une organisation. Par défaut, vous aurez accès aux services de votre organisation pour enrichir un jeu de données dont le propriétaire est l’organisation. Vous ne pourrez pas utiliser les services personnels pour enrichir des jeux de données dont le propriétaire est une de vos organisations.

Le service *Données cartographiques par Koumoul* est un service nécessaires aux applications *Infos-Parcelles* et *Infos-Localisations*. Vous n'avez pas de concepts à associer avec ce service, il faut juste le sélectionner lors d'une configuration d'un de ces applications.

### Exemples d'enrichissement via les services Koumoul

* Vous avez un fichier de 20 Mo qui contient des adresses et vous voulez afficher chacune des adresses sur une carte. Vous allez donc ajouter votre fichier sur la plateforme et procéder à un enrichissement par le service *Géocoder* pour obtenir les latitude/longitude des adresses. Une fois le téléchargement effectué, vous allez renseigner la page *DESCRIPTION* puis associer le [concept](user-guide/concepts) *adresse* à votre colonne qui contient les adresses. Ensuite vous allez dans la page *ENRICHISSEMENT* de votre jeu de données et vous aurez accès au service *Géocoder*, s'il n'est pas disponible, il faudra l'ajouter dans la section service. Sélectionnez le, puis choisissez les valeurs latitudes et longitudes et enfin cliquez sur appliquer. Une fois l'enrichissement fini, vous aurez accès à un nouvel onglet *CARTE* qui vous donne un aperçu de vos données sur une carte. Vous pouvez maintenant configurer une application [Infos-Localisations](user-guide/application-infos-location) pour avoir un meilleur rendu de vos données.
* Vous faites parti d'une organisation, vous avez un fichier de 16ko qui contient des codes parcelles et vous voulez les afficher sur une carte.  
Lorsque vous ajouter votre fichier à la plateforme, si vous choisissez votre compte en tant que propriétaire, vous n'aurez que vos services de disponible par défaut et personne, autre que vous, ne pourra accéder à votre jeu de données. Si vous choisissez votre organisation en tant que propriétaire, vous aurez accès aux services de votre organisation et toute votre organisation aura accès à votre jeu de données. Une fois le téléchargement de votre fichier fini, vous pouvez renseigner la page *DESCRIPTION* et associer le concept *Code Parcelles* à votre colonne qui contient vos codes parcelles. Puis vous allez dans la page *ENRICHISSEMENT* de votre jeu de données et vous aurez accès au service *Cadastre* de votre organisation. Sélectionnez le, puis choisissez les valeurs latitudes et longitudes et enfin cliquez sur appliquer. Une fois l'enrichissement fini, vous aurez accès à un nouvel onglet *CARTE* qui vous donne un aperçu de vos données sur une carte. Vous pouvez maintenant configurer une application [Infos-Parcelles](user-guide/application-infos-parcel) pour avoir un meilleur rendu de vos données.
* Vous avez un fichier de 10 Mo avec des codes SIREN et vous appartenez à une organisation. Vous pouvez ajouter votre fichier sur la plateforme en désignant l'organisation ou un rôle de l'organisation en tant que propriétaire. Une fois le téléchargement fini, vous pouvez renseigner la page *DESCRIPTION* et associer le concept *SIREN* à votre colonne qui contient vos codes SIREN. Puis vous allez dans la page *ENRICHISSEMENT* de votre jeu de données et vous aurez accès au service *Données des entreprises* de votre organisation. Sélectionnez le, vous avez maintenant accès aux données de la base SIREN. Vous pouvez choisir les données qui vous intéressent, telles que le *Nom ou raison de l'entreprise*, le *résultat de 2016*, l'*activité de l'entreprise* etc ... Tous les champs de la base SIREN ne sont pas tous renseignés. Pour chaque valeur non renseignée dans la base SIREN, vous aurez une case vide dans votre section *VUE TABLEAU*.
